{"version":3,"file":"draglist.js","sources":["../src/interface.ts","../src/hooks.ts","../src/children.tsx","../src/utils.ts","../src/virtual.ts","../node_modules/sortable-dnd/dist/sortable.min.js","../src/sortable.ts","../src/index.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nexport type RenderFunc<T> = (\r\n  item: T,\r\n  index: number,\r\n  props: { style?: React.CSSProperties }\r\n) => React.ReactNode\r\n\r\nexport type GetKey<T> = (item: T) => React.Key\r\n\r\nexport interface BaseProps {\r\n  Tag?: string;\r\n  Class?: string;\r\n  Style?: object;\r\n  onSizeChange?: Function;\r\n  children?: React.ReactNode | ((ref: React.RefObject<any>) => React.ReactElement);\r\n}\r\n\r\nexport interface VirtualProps<T> {\r\n  dataSource: T[];\r\n  dataKey: string;\r\n  direction?: string; // scroll direction\r\n  keeps?: number; // the number of lines rendered by the virtual scroll\r\n  size?: number; // estimated height of each row\r\n\r\n  delay?: number; // Delay time of debounce function\r\n  height?: string; // list wrapper height\r\n\r\n  rootTag?: string;\r\n  wrapTag?: string;\r\n  itemTag?: string;\r\n  headerTag?: string;\r\n  footerTag?: string;\r\n\r\n  itemStyle?: object;\r\n  itemClass?: string;\r\n  rootStyle?: object;\r\n  rootClass?: string;\r\n  wrapStyle?: object;\r\n  wrapClass?: string;\r\n\r\n  disabled?: boolean; // Disables the sortable if set to true\r\n  draggable?: Function | string; // Specifies which items inside the element should be draggable, the function type must return a boolean\r\n  dragging?: Function; // Specifies the drag element, which must return an HTMLElement, such as (e) => e.target\r\n\r\n  ghostStyle?: object; // The style of the mask element when dragging\r\n  ghostClass?: string; // The class of the mask element when dragging\r\n  chosenClass?: string; // The class of the selected element when dragging\r\n  animation?: number; // Animation time\r\n  \r\n  children: RenderFunc<T>;\r\n  header: RenderFunc<T>;\r\n  footer: RenderFunc<T>;\r\n\r\n  'v-top'?: Function;\r\n  'v-bottom'?: Function;\r\n  'v-dragend'?: Function;\r\n}\r\n\r\nexport interface VirtualOptions<T> {\r\n  size: number;\r\n  keeps: number;\r\n  uniqueKeys: T[];\r\n  isHorizontal: boolean;\r\n}\r\n\r\nexport interface SortableOptions<T> {\r\n  getKey: Function;\r\n  scrollEl: HTMLElement;\r\n  dataSource: T[];\r\n  disabled: boolean;\r\n  draggable: string | Function;\r\n  dragging: Function;\r\n  ghostStyle: object;\r\n  ghostClass: string;\r\n  chosenClass: string;\r\n  animation: number;\r\n}\r\n\r\nexport class DragState {\r\n  from: {\r\n    key: string, // 拖拽起始节点唯一值\r\n    item: any, // 拖拽起始节点数据\r\n    index: number, // 拖拽起始节点索引\r\n  }\r\n  to: {\r\n    key: string, // 拖拽结束节点唯一值\r\n    item: any, // 拖拽结束节点数据\r\n    index: number // 拖拽结束节点索引\r\n  }\r\n  constructor() {\r\n    this.from = { key: null, item: null, index: -1 }\r\n    this.to = { key: null, item: null, index: -1 }\r\n  }\r\n}\r\n\r\nexport class CalcSize {\r\n  average: number; // 计算首次加载每一项的评价高度\r\n  total: number; // 首次加载的总高度\r\n  fixed: number; // 记录固定高度值\r\n  header: number; // 顶部插槽高度\r\n  footer: number; // 底部插槽高度\r\n  constructor() {\r\n    this.average = undefined\r\n    this.total = undefined\r\n    this.fixed = undefined\r\n    this.header = undefined\r\n    this.footer = undefined\r\n  }\r\n}\r\n\r\nexport class Range {\r\n  start: number;\r\n  end: number;\r\n  front: number;\r\n  behind: number;\r\n  constructor() {\r\n    this.start = 0\r\n    this.end = 0\r\n    this.front = 0\r\n    this.behind = 0\r\n  }\r\n}","import * as React from 'react'\r\n\r\nexport interface ObserverProps {\r\n  dataKey: string | number;\r\n\r\n  onSizeChange?: Function;\r\n\r\n  children?: React.ReactNode | ((ref: React.RefObject<any>) => React.ReactElement);\r\n}\r\n\r\nexport function Observer(props: ObserverProps) {\r\n\r\n  const { dataKey, children, onSizeChange } = props\r\n\r\n  const elementRef = React.useRef<Element>(null);\r\n\r\n  const isRenderProps = typeof children === 'function';\r\n  const mergedChildren = isRenderProps ? children(elementRef) : children;\r\n  \r\n  React.useLayoutEffect(() => {\r\n    let observer: ResizeObserver\r\n    if (typeof ResizeObserver !== undefined) {\r\n      observer = new ResizeObserver(() => {\r\n        const size = elementRef.current.clientHeight\r\n        onSizeChange && onSizeChange(dataKey, size)\r\n      })\r\n      elementRef.current && observer.observe(elementRef.current)\r\n    }\r\n    return () => {\r\n      if (observer) {\r\n        observer.disconnect()\r\n        observer = null\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [elementRef])\r\n\r\n  return React.cloneElement(mergedChildren as any, {\r\n    ref: elementRef,\r\n  })\r\n}\r\n\r\nexport function useRefCallback<T>(fn: Function, dependencies: Array<T>) {\r\n  const ref = React.useRef(fn)\r\n\r\n  // 每次调用的时候，fn 都是一个全新的函数，函数中的变量有自己的作用域\r\n  // 当依赖改变的时候，传入的 fn 中的依赖值也会更新，这时更新 ref 的指向为新传入的 fn\r\n  React.useEffect(() => {\r\n    ref.current = fn\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [fn, ...dependencies])\r\n\r\n  return React.useCallback(() => {\r\n    const fn = ref.current\r\n    return fn()\r\n  }, [ref])\r\n}\r\n\r\nexport function useMethods<T extends Record<string, (...args: any[]) => any>>(methods: T) {\r\n  const { current } = React.useRef({\r\n    methods,\r\n    func: undefined as T | undefined,\r\n  })\r\n  current.methods = methods\r\n\r\n  if (!current.func) {\r\n    const func = Object.create(null);\r\n    Object.keys(methods).forEach((key) => {\r\n      func[key] = (...args: unknown[]) => current.methods[key].call(current.methods, ...args)\r\n    })\r\n    current.func = func\r\n  }\r\n\r\n  return current.func as T\r\n}","import * as React from 'react'\r\nimport { Observer } from './hooks'\r\nimport { BaseProps } from './interface'\r\n\r\nexport interface ItemProps<T> extends BaseProps {\r\n  key: any;\r\n  record: T;\r\n  index: number;\r\n  dataKey: string | number;\r\n}\r\n\r\nexport function Item<T>(props: ItemProps<T>) {\r\n\r\n  const { children, dataKey, Class, Style, Tag = 'div' } = props\r\n\r\n  const { record, index, onSizeChange } = props\r\n\r\n  return (\r\n    <Observer dataKey={ dataKey } onSizeChange={ onSizeChange }>\r\n      <Tag\r\n        className={ Class }\r\n        style={ Style }\r\n        data-key={ dataKey }\r\n      >\r\n        { typeof children === 'function' ? children(record, index, dataKey) : children }\r\n      </Tag>\r\n    </Observer>\r\n  )\r\n}\r\n\r\nexport interface SlotProps<T> extends BaseProps {\r\n  roleId: string;\r\n}\r\n\r\nexport function Slot<T>(props: SlotProps<T>) {\r\n  \r\n  const { Tag = 'div', Style, Class, children, roleId, onSizeChange } = props\r\n\r\n  return children ? (\r\n    <Observer dataKey={ roleId } onSizeChange={ onSizeChange }>\r\n      <Tag\r\n        v-role={ roleId }\r\n        style={ Style }\r\n        className={ Class }\r\n      >\r\n        { children }\r\n      </Tag>\r\n    </Observer>\r\n  ) : <></>\r\n}","/**\r\n  * 防抖函数\r\n  * @param func callback\r\n  * @param delay 延迟\r\n  * @param immediate 是否立即执行\r\n  * @returns \r\n  */\r\nexport function debounce(func: Function, delay: number = 50, immediate:boolean = false){\r\n  let timer: any | undefined\r\n  let result: Function\r\n  let debounced = function(...args: any){\r\n    if(timer) clearTimeout(timer)\r\n    if(immediate){\r\n      let callNow = !timer\r\n      timer = setTimeout(()=>{\r\n        timer = null\r\n      }, delay)\r\n      if(callNow) result = func.apply(this, args)\r\n    } else{\r\n      timer = setTimeout(()=>{\r\n        func.apply(this, args)\r\n      }, delay)\r\n    }\r\n    return result\r\n  }\r\n  debounced.prototype.cancel = function(){\r\n    clearTimeout(timer)\r\n    timer = null\r\n  }\r\n  return debounced\r\n}\r\n\r\nexport default {\r\n  debounce\r\n}","import { VirtualOptions, CalcSize, Range } from \"./interface\"\r\n\r\nconst CACLTYPE = {\r\n  INIT: 'INIT',\r\n  FIXED: 'FIXED',\r\n  DYNAMIC: 'DYNAMIC'\r\n}\r\n\r\nconst DIRECTION = {\r\n  FRONT: 'FRONT',\r\n  BEHIND: 'BEHIND'\r\n}\r\n\r\nclass Virtual<T> {\r\n  options: VirtualOptions<T>;\r\n  callback: Function;\r\n\r\n  sizes: Map<T, number>; // 用于存储列表项的高度\r\n  isHorizontal: boolean; // 是否为横向滚动\r\n\r\n  calcIndex: number; // 记录上次计算的index\r\n  calcType: string; // 记录列表项高度是动态还是静态\r\n  calcSize: CalcSize;\r\n\r\n  range: Range;\r\n\r\n  direction: string; // 滚动方向\r\n  offset: number; // 记录滚动距离\r\n\r\n  constructor(options: VirtualOptions<T>, callback: Function) {\r\n    this.options = { ...options }\r\n    this.callback = callback\r\n\r\n    this.sizes = new Map()\r\n    this.isHorizontal = options.isHorizontal\r\n\r\n    this.calcIndex = 0\r\n    this.calcType = CACLTYPE.INIT\r\n    this.calcSize = new CalcSize\r\n\r\n    this.direction = ''\r\n    this.offset = 0\r\n\r\n    this.range = new Range\r\n    if (options) this.checkIfUpdate(0, options.keeps - 1)\r\n  }\r\n\r\n  // --------------------------- update ------------------------------\r\n  updateUniqueKeys(value: any) {\r\n    this.options.uniqueKeys = value\r\n  }\r\n\r\n  // 更新 sizes，删除不在当前列表中的数据\r\n  updateSizes(uniqueKeys: any) {\r\n    this.sizes.forEach((v, k) => {\r\n      if (!uniqueKeys.includes(k)) this.sizes.delete(k)\r\n    })\r\n  }\r\n\r\n  updateRange() {\r\n    const start = Math.max(this.range.start, 0)\r\n    this.handleUpdate(start, this.getEndByStart(start))\r\n  }\r\n\r\n  // --------------------------- scroll ------------------------------\r\n  // 滚动事件\r\n  handleScroll(offset: number) {\r\n    this.direction = offset < this.offset ? DIRECTION.FRONT : DIRECTION.BEHIND\r\n    this.offset = offset\r\n\r\n    const scrolls = this.getScrollItems(offset)\r\n\r\n    if (this.isFront()) {\r\n      this.handleScrollFront(scrolls)\r\n    } else if (this.isBehind()) {\r\n      this.handleScrollBehind(scrolls)\r\n    }\r\n  }\r\n\r\n  isFront() {\r\n    return this.direction === DIRECTION.FRONT\r\n  }\r\n\r\n  isBehind() {\r\n    return this.direction === DIRECTION.BEHIND\r\n  }\r\n\r\n  getScrollItems(offset: number) {\r\n    const { fixed, header } = this.calcSize\r\n    // 减去顶部插槽高度\r\n    if (header) offset -= header\r\n    if (offset <= 0) return 0\r\n    // 固定高度\r\n    if (this.calcType === CACLTYPE.FIXED) return Math.floor(offset / fixed)\r\n    // 非固定高度使用二分查找\r\n    let low = 0, high = this.options.uniqueKeys.length\r\n    let middle = 0, middleOffset = 0\r\n    while (low <= high) {\r\n      middle = low + Math.floor((high - low) / 2)\r\n      middleOffset = this.getOffsetByIndex(middle)\r\n      if (middleOffset === offset) return middle\r\n      else if (middleOffset < offset) low = middle + 1\r\n      else if (middleOffset > offset) high = middle - 1\r\n    }\r\n    return low > 0 ? --low : 0\r\n  }\r\n\r\n  handleScrollFront(scrolls: number) {\r\n    if (scrolls > this.range.start) return\r\n    const start = Math.max(scrolls - Math.round(this.options.keeps / 3), 0)\r\n    this.checkIfUpdate(start, this.getEndByStart(start))\r\n  }\r\n\r\n  handleScrollBehind(scrolls: number) {\r\n    if (scrolls < this.range.start + Math.round(this.options.keeps / 3)) return\r\n    this.checkIfUpdate(scrolls, this.getEndByStart(scrolls))\r\n  }\r\n\r\n  checkIfUpdate(start: number, end: number) {\r\n    const { uniqueKeys, keeps } = this.options\r\n    if (uniqueKeys.length <= keeps) {\r\n      start = 0\r\n      end = uniqueKeys.length - 1\r\n    } else if (end - start < keeps - 1) {\r\n      start = end - keeps + 1\r\n    }\r\n    if (this.range.start !== start) this.handleUpdate(start, end)\r\n  }\r\n\r\n  handleUpdate(start: number, end: number) {\r\n    this.range.start = start\r\n    this.range.end = end\r\n    this.range.front = this.getFrontOffset()\r\n    this.range.behind = this.getBehindOffset()\r\n    this.callback({ ...this.range })\r\n  }\r\n\r\n  getFrontOffset() {\r\n    if (this.calcType === CACLTYPE.FIXED) {\r\n      return this.calcSize.fixed * this.range.start\r\n    } else {\r\n      return this.getOffsetByIndex(this.range.start)\r\n    }\r\n  }\r\n\r\n  getBehindOffset() {\r\n    const last = this.getLastIndex()\r\n    if (this.calcType === CACLTYPE.FIXED) {\r\n      return (last - this.range.end) * this.calcSize.fixed\r\n    }\r\n    if (this.calcIndex === last) {\r\n      return this.getOffsetByIndex(last) - this.getOffsetByIndex(this.range.end)\r\n    }\r\n    return (last - this.range.end) * this.getItemSize()\r\n  }\r\n\r\n  getOffsetByIndex(index: number) {\r\n    if (!index) return 0\r\n    let offset = 0\r\n    for (let i = 0; i < index; i++) {\r\n      const size = this.sizes.get(this.options.uniqueKeys[i])\r\n      offset = offset + (typeof size === 'number' ? size : this.getItemSize())\r\n    }\r\n    this.calcIndex = Math.max(this.calcIndex, index - 1)\r\n    this.calcIndex = Math.min(this.calcIndex, this.getLastIndex())\r\n    return offset\r\n  }\r\n\r\n  getEndByStart(start: number) {\r\n    return Math.min(start + this.options.keeps - 1, this.getLastIndex())\r\n  }\r\n\r\n  getLastIndex() {\r\n    return this.options.uniqueKeys.length - 1\r\n  }\r\n\r\n  // --------------------------- size ------------------------------\r\n  // 获取列表项的高度\r\n  getItemSize() {\r\n    return this.calcType === CACLTYPE.FIXED ? this.calcSize.fixed : (this.calcSize.average || this.options.size)\r\n  }\r\n\r\n  // 列表项高度变化\r\n  handleItemSizeChange(id: T, size: number) {\r\n    this.sizes.set(id, size)\r\n\r\n    // 'INIT' 状态表示每一项的高度都相同\r\n    if (this.calcType === CACLTYPE.INIT) {\r\n      this.calcType = CACLTYPE.FIXED // 固定高度\r\n      this.calcSize.fixed = size\r\n    } else if (this.calcType === CACLTYPE.FIXED && this.calcSize.fixed !== size) {\r\n      // 如果当前为 'FIXED' 状态并且 size 与固定高度不同，表示当前高度不固定，fixed值也就不需要了\r\n      this.calcType = CACLTYPE.DYNAMIC\r\n      this.calcSize.fixed = undefined\r\n    }\r\n    // 非固定高度的情况下，计算平均高度与总高度\r\n    if (this.calcType !== CACLTYPE.FIXED) {\r\n      this.calcSize.total = [...this.sizes.values()].reduce((t, i) => t + i, 0)\r\n      this.calcSize.average = Math.round(this.calcSize.total / this.sizes.size)\r\n    }\r\n  }\r\n  \r\n  // header 插槽高度变化\r\n  handleHeaderSizeChange(size: number) {\r\n    this.calcSize.header = size\r\n  }\r\n\r\n  // footer 插槽高度变化\r\n  handleFooterSizeChange(size: number) {\r\n    this.calcSize.footer = size\r\n  }\r\n}\r\n\r\nexport default Virtual","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).Sortable=e()}(this,function(){\"use strict\";function d(t){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,o){e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,\"prototype\",{writable:!1})}function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(o=\"Object\"===o&&t.constructor?t.constructor.name:o)||\"Set\"===o?Array.from(t):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function t(t){if(\"undefined\"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var a=t(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i),l=t(/Edge/i),f=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),e=t(/iP(ad|od|hone)/i),h=t(/chrome/i)&&t(/android/i),c={capture:!1,passive:!1},u=/\\s+/g,p=[\"-webkit-transition\",\"-moz-transition\",\"-ms-transition\",\"-o-transition\",\"transition\"],v=[\"-webkit-transform\",\"-moz-transform\",\"-ms-transform\",\"-o-transform\",\"transform\"];function m(e,o){o?\"none\"===o?p.forEach(function(t){return D(e,t,\"none\")}):p.forEach(function(t){return D(e,t,\"\".concat(t.split(\"transition\")[0],\"transform \").concat(o))}):p.forEach(function(t){return D(e,t,\"\")})}function g(e,o){o?v.forEach(function(t){return D(e,t,\"\".concat(t.split(\"transform\")[0]).concat(o))}):v.forEach(function(t){return D(e,t,\"\")})}function w(t,e,o,n){window.addEventListener?t.addEventListener(e,o,!(!n&&a)&&c):window.attachEvent&&t.attachEvent(\"on\"+e,o)}function y(t,e,o,n){window.removeEventListener?t.removeEventListener(e,o,!(!n&&a)&&c):window.detachEvent&&t.detachEvent(\"on\"+e,o)}function b(t){for(var e={top:0,left:0,height:0,width:0},o=(e.height=t.offsetHeight,e.width=t.offsetWidth,e.top=t.offsetTop,e.left=t.offsetLeft,t.offsetParent);null!==o;)e.top+=o.offsetTop,e.left+=o.offsetLeft,o=o.offsetParent;return e}function E(t){var e,o;if(t.getBoundingClientRect||t===window)return e={top:0,left:0,bottom:0,right:0,height:0,width:0},t!==window&&t.parentNode&&t!==(!(o=document.scrollingElement)||o.contains(document.body)?document:o)?(o=t.getBoundingClientRect(),e.top=o.top,e.left=o.left,e.bottom=o.bottom,e.right=o.right,e.height=o.height,e.width=o.width):(e.top=0,e.left=0,e.bottom=window.innerHeight,e.right=window.innerWidth,e.height=window.innerHeight,e.width=window.innerWidth),e}function S(t,e,o){var n=r(Array.from(t.children)),t=n.indexOf(e);if(-1<t)return o?n[t]:{index:t,el:n[t],rect:E(n[t]),offset:b(n[t])};for(var i=0;i<n.length;i++)if(function(t,e){var o;if(t&&e)for(o=t.parentNode;o;){if(e===o)return 1;o=o.parentNode}return}(e,n[i]))return o?n[i]:{index:i,el:n[i],rect:E(n[i]),offset:b(n[i])};return o?null:{index:-1,el:null,rect:{},offset:{}}}function _(t,e,o){var n;t&&e&&(t.classList?t.classList[o?\"add\":\"remove\"](e):(n=(\" \"+t.className+\" \").replace(u,\" \").replace(\" \"+e+\" \",\" \"),t.className=(n+(o?\" \"+e:\"\")).replace(u,\" \")))}function D(t,e,o){var n=t&&t.style;if(n){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,\"\"):t.currentStyle&&(o=t.currentStyle),void 0===e?o:o[e];n[e=e in n||-1!==e.indexOf(\"webkit\")?e:\"-webkit-\"+e]=o+(\"string\"==typeof o?\"\":\"px\")}}var x=function(){function t(){o(this,t),this.from={node:null,rect:{},offset:{}},this.to={node:null,rect:{},offset:{}}}return i(t,[{key:\"get\",value:function(t){return this[t]}},{key:\"set\",value:function(t,e){this[t]=e}},{key:\"destroy\",value:function(){this.from={node:null,rect:{},offset:{}},this.to={node:null,rect:{},offset:{}}}}]),t}(),$=function(){function e(t){o(this,e),this.options=t,this.diff={x:0,y:0},this.position={x:0,y:0},this.exist=!1}return i(e,[{key:\"init\",value:function(t,e){var o,n;this.$el&&this.$el.remove(),t&&(this.$el=t,o=(t=this.options).ghostClass,t=void 0===(t=t.ghostStyle)?{}:t,n=e.width,e=e.height,this.$el.class=o,this.$el.style.width=n+\"px\",this.$el.style.height=e+\"px\",this.$el.style.position=\"fixed\",this.$el.style.left=0,this.$el.style.top=0,this.$el.style.zIndex=1e5,this.$el.style.opacity=.8,this.$el.style.pointerEvents=\"none\",this.$el.style.cursor=\"move\",m(this.$el,\"none\"),g(this.$el,\"translate3d(0px, 0px, 0px)\"),this.setStyle(t))}},{key:\"setPosition\",value:function(t,e){this.position={x:t-this.diff.x,y:e-this.diff.y}}},{key:\"setStyle\",value:function(t){for(var e in t)D(this.$el,e,t[e])}},{key:\"rect\",value:function(){return E(this.$el)}},{key:\"move\",value:function(t){var e;this.$el&&(e=this.options.ghostAnimation,m(this.$el,t?\"\".concat(e,\"ms\"):\"none\"),this.exist||(document.body.appendChild(this.$el),this.exist=!0),g(this.$el,\"translate3d(\".concat(this.position.x,\"px, \").concat(this.position.y,\"px, 0)\")),\"move\"!==this.$el.style.cursor&&(this.$el.style.cursor=\"move\"))}},{key:\"destroy\",value:function(t){var e=this,t=(t&&(this.position={x:t.left,y:t.top},this.move(!0)),this.options.ghostAnimation);t?setTimeout(function(){return e.clear()},t):this.clear()}},{key:\"clear\",value:function(){this.$el&&this.$el.remove(),this.$el=null,this.diff={x:0,y:0},this.position={x:0,y:0},this.exist=!1}}]),e}();function P(){var i=[];return{captureAnimationState:function(){var t=r(Array.from(this.$el.children)),e=(o=t,n=this.dragEl,e=this.dropEl,n=o.indexOf(n),o=o.indexOf(e),n<o?{start:n,end:o}:{start:o,end:n}),o=e.start,n=e.end;i.length=0,t.slice(o,n+1).forEach(function(t){i.push({target:t,rect:E(t)})})},animateRange:function(){var o=this;i.forEach(function(t){var e=t.target,t=t.rect;o.animate(e,t,o.animation)})},animate:function(t,e){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:150,n=E(t),i=e.left-n.left,e=e.top-n.top;m(t,\"none\"),g(t,\"translate3d(\".concat(i,\"px, \").concat(e,\"px, 0)\")),t.offsetLeft,m(t,\"\".concat(o,\"ms\")),g(t,\"translate3d(0px, 0px, 0px)\"),clearTimeout(t.animated),t.animated=setTimeout(function(){m(t,\"\"),g(t,\"\"),t.animated=null},o)}}}var M=\"undefined\"!=typeof document&&!h&&!e&&\"draggable\"in document.createElement(\"div\");function O(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw\"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(t));this.$el=t,this.options=e=Object.assign({},e),this.dragEl=null,this.dropEl=null,this.differ=null,this.ghost=null;var o,n,i={delay:0,delayOnTouchOnly:!1,disabled:!1,animation:150,ghostAnimation:0,ghostClass:\"\",ghostStyle:{},chosenClass:\"\",draggable:void 0,dragging:void 0,onDrag:void 0,onMove:void 0,onDrop:void 0,onChange:void 0,forceFallback:!1,stopPropagation:!1,supportPassive:(o=!1,document.addEventListener(\"checkIfSupportPassive\",null,{get passive(){return o=!0}}),o),supportPointer:\"PointerEvent\"in window&&!f,supportTouch:\"ontouchstart\"in window,ownerDocument:this.$el.ownerDocument};for(n in i)n in this.options||(this.options[n]=i[n]);this.nativeDraggable=!this.options.forceFallback&&M,this.differ=new x,this.ghost=new $(this.options),Object.assign(this,P(),{_bindEventListener:function(){this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onDrop=this._onDrop.bind(this);var t=this.options,e=t.supportPointer,o=t.supportTouch,t=t.supportPassive;w(this.$el,e?\"pointerdown\":o?\"touchstart\":\"mousedown\",this._onStart,t)},_unbindEventListener:function(){var t=this.options.supportPassive;y(this.$el,\"pointerdown\",this._onStart,t),y(this.$el,\"touchstart\",this._onStart,t),y(this.$el,\"mousedown\",this._onStart,t)},_bindMoveEvents:function(t){var e=this.options,o=e.supportPointer,n=e.ownerDocument,e=e.supportPassive;w(n,o?\"pointermove\":t?\"touchmove\":\"mousemove\",this._onMove,e)},_bindUpEvents:function(){var t=this.options,e=t.ownerDocument,t=t.supportPassive;w(e,\"pointerup\",this._onDrop,t),w(e,\"pointercancel\",this._onDrop,t),w(e,\"touchend\",this._onDrop,t),w(e,\"touchcancel\",this._onDrop,t),w(e,\"mouseup\",this._onDrop,t)},_unbindMoveEvents:function(){var t=this.options,e=t.ownerDocument,t=t.supportPassive;y(e,\"pointermove\",this._onMove,t),y(e,\"touchmove\",this._onMove,t),y(e,\"mousemove\",this._onMove,t)},_unbindUpEvents:function(){var t=this.options,e=t.ownerDocument,t=t.supportPassive;y(e,\"pointerup\",this._onDrop,t),y(e,\"pointercancel\",this._onDrop,t),y(e,\"touchend\",this._onDrop,t),y(e,\"touchcancel\",this._onDrop,t),y(e,\"mouseup\",this._onDrop,t)}}),this._bindEventListener(),this._handleDestroy()}return O.prototype={constructor:O,destroy:function(){this._unbindEventListener(),this._resetState()},_onStart:function(t){var e=this.options,o=e.delay,n=e.disabled,i=e.stopPropagation,e=e.delayOnTouchOnly;if(!(/mousedown|pointerdown/.test(t.type)&&0!==t.button||n)){var n=t.touches&&t.touches[0]||t.pointerType&&\"touch\"===t.pointerType&&t,r=n||t;if(this.nativeDraggable||!f||!r.target||\"SELECT\"!==r.target.tagName.toUpperCase()){if(r.target===this.$el)return!0;i&&t.stopPropagation(),!o||e&&!n||this.nativeDraggable&&(l||a)?this._onDrag(r,n):this.dragStartTimer=setTimeout(this._onDrag(r,n),o)}}},_onDrag:function(t,e){var o=this.options,n=o.draggable,o=o.dragging;if(\"function\"==typeof n){if(!n(t))return!0}else if(\"string\"==typeof n){if(!function(t,e){if(e&&(\">\"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}(t.target,n))return!0}else if(void 0!==n)throw new Error('draggable expected \"function\" or \"string\" but received \"'.concat(d(n),'\"'));try{document.selection?setTimeout(function(){document.selection.empty()},0):window.getSelection().removeAllRanges()}catch(t){throw new Error(t)}if(o){if(\"function\"!=typeof o)throw new Error('dragging expected \"function\" or \"string\" but received \"'.concat(d(o),'\"'));this.dragEl=o(t)}else this.dragEl=S(this.$el,t.target,!0);if(!this.dragEl||this.dragEl.animated)return!0;n=S(this.$el,this.dragEl),o=n.rect,n=n.offset;window.sortableDndOnDownState=!0,this.ghost.setPosition(o.left,o.top),this.ghost.diff={x:t.clientX-o.left,y:t.clientY-o.top},this.differ.from={node:this.dragEl,rect:o,offset:n},this._bindMoveEvents(e),this._bindUpEvents(e)},_onMove:function(t){void 0!==t.preventDefault&&t.preventDefault();var e=this.options,o=e.chosenClass,n=e.stopPropagation,i=e.onMove,e=e.onDrag,n=(n&&t.stopPropagation(),t.touches&&t.touches[0]),r=n||t,s=r.clientX,a=r.clientY,n=n?document.elementFromPoint(s,a):r.target;if(!this.ghost.$el&&(this.ghost.init(this.dragEl.cloneNode(!0),this.differ.from.rect),void 0!==e)){if(\"function\"!=typeof e)throw new Error('onDrag expected \"function\" but received \"'.concat(d(e),'\"'));e(this.dragEl,r,t)}if(void 0!==i){if(\"function\"!=typeof i)throw new Error('onMove expected \"function\" but received \"'.concat(d(i),'\"'));i(this.differ.from,this.ghost.$el,r,t)}if(_(this.dragEl,o,!0),this.ghost.move(),window.sortableDndOnDownState&&!(s<0||a<0)){window.sortableDndOnMoveState=!0,this.ghost.setPosition(s,a),this.ghost.move();e=E(this.$el);if(s<e.left||s>e.right||a<e.top||a>e.bottom)this.ghost.setStyle({cursor:\"not-allowed\"});else{var i=S(this.$el,n),o=i.index,e=i.el,n=i.rect,i=i.offset,l=n.left,f=n.right,h=n.top,c=n.bottom;if(e&&!(o<0)&&(this.dropEl=e,l<s&&s<f&&h<a&&a<c&&e!==this.dragEl&&(this.differ.to={node:this.dropEl,rect:n,offset:i},!e.animated))){this.captureAnimationState();o=this.options.onChange,l=b(this.dragEl);if(void 0!==o){if(\"function\"!=typeof o)throw new Error('onChange expected \"function\" but received \"'.concat(d(o),'\"'));o(this.differ.from,this.differ.to,r,t)}l.top<i.top||l.left<i.left?this.$el.insertBefore(this.dragEl,e.nextElementSibling):this.$el.insertBefore(this.dragEl,e),this.animateRange()}}}},_onDrop:function(t){this._unbindMoveEvents(),this._unbindUpEvents(),clearTimeout(this.dragStartTimer);var e=this.options,o=e.onDrop,n=e.chosenClass;if(e.stopPropagation&&t.stopPropagation(),_(this.dragEl,n,!1),window.sortableDndOnDownState&&window.sortableDndOnMoveState){this.differ.to.offset=b(this.dragEl),this.differ.to.rect=E(this.dragEl);e=this.differ,n=e.from,e=e.to,n=n.offset.top!==e.offset.top||n.offset.left!==e.offset.left;if(void 0!==o){if(\"function\"!=typeof o)throw new Error('onDrop expected \"function\" but received \"'.concat(d(o),'\"'));o(n,t)}this.ghost.destroy(E(this.dragEl))}this.differ.destroy(),this._removeWindowState()},_resetState:function(){this.dragEl=null,this.dropEl=null,this.ghost.destroy(),this.differ.destroy(),this._removeWindowState()},_removeWindowState:function(){window.sortableDndOnDownState=null,window.sortableDndOnMoveState=null,window.sortableDndAnimationEnd=null,delete window.sortableDndOnDownState,delete window.sortableDndOnMoveState,delete window.sortableDndAnimationEnd},_handleDestroy:function(){var t=this,e=null,o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(o){var n=this.options.ownerDocument;if(!n)return;(e=new o(function(){n.body.contains(t.$el)||(e.disconnect(),e=null,t._unbindEventListener(),t._resetState())})).observe(this.$el.parentNode,{childList:!0,attributes:!1,subtree:!1})}window.onbeforeunload=function(){e&&e.disconnect(),e=null,t._unbindEventListener(),t._resetState()}}},O});\n","import SortableDnd from 'sortable-dnd'\r\nimport { SortableOptions, DragState } from './interface'\r\n\r\nclass Sortable<T> {\r\n  getKey: Function;\r\n  onDrag: Function;\r\n  onDrop: Function;\r\n  dragState: DragState;\r\n  dragElement: HTMLElement;\r\n  drag: SortableDnd;\r\n  options: SortableOptions<T>;\r\n  dataSource: T[];\r\n  rangeIsChanged: boolean;\r\n\r\n  constructor(options: SortableOptions<T>, onDrag:Function, onDrop: Function) {\r\n    this.options = options\r\n    this.onDrag = onDrag\r\n    this.onDrop = onDrop\r\n    this.getKey = options.getKey\r\n\r\n    this.dragState = new DragState\r\n    this.dataSource = options.dataSource\r\n    this.rangeIsChanged = false\r\n    this.init()\r\n  }\r\n\r\n  set(key, value) {\r\n    this[key] = value\r\n  }\r\n\r\n  init() {\r\n    this.destroy()\r\n\r\n    let cloneList = new Array()\r\n    this.drag = new SortableDnd(\r\n      this.options.scrollEl,\r\n      {\r\n        disabled: this.options.disabled,\r\n        draggable: this.options.draggable,\r\n        dragging: this.options.dragging,\r\n        ghostStyle: this.options.ghostStyle,\r\n        ghostClass: this.options.ghostClass,\r\n        chosenClass: this.options.chosenClass,\r\n        animation: this.options.animation,\r\n\r\n        onDrag: (dragEl: HTMLElement) => {\r\n          this.dragElement = dragEl\r\n          cloneList = [...this.dataSource]\r\n\r\n          const key = dragEl.getAttribute('data-key')\r\n          const index = this.dataSource.findIndex(el => this.getKey(el) == key)\r\n          const item = this.dataSource[index]\r\n          Object.assign(this.dragState.from, { item, index, key })\r\n\r\n          this.rangeIsChanged = false\r\n          this.onDrag(this.dragState.from)\r\n        },\r\n        onChange: (_old_, _new_) => {\r\n          const oldKey = this.dragState.from.key\r\n          const newKey = _new_.node.getAttribute('data-key')\r\n\r\n          const from = { item: null, index: -1 }\r\n          const to = { item: null, index: -1 }\r\n\r\n          cloneList.forEach((el, index) => {\r\n            const key = this.getKey(el)\r\n            if (key == oldKey) Object.assign(from, { item: el, index })\r\n            if (key == newKey) Object.assign(to, { item: el, index })\r\n          })\r\n\r\n          cloneList.splice(from.index, 1)\r\n          cloneList.splice(to.index, 0, from.item)\r\n        },\r\n        onDrop: (changed: boolean) => {\r\n          if (this.rangeIsChanged && this.dragElement) this.dragElement.remove()\r\n\r\n          const { from } = this.dragState\r\n          const index = cloneList.findIndex(el => this.getKey(el) == from.key)\r\n          const item = this.dataSource[index]\r\n          this.dragState.to = { item, index, key: this.getKey(item) }\r\n\r\n          this.onDrop(cloneList, from, this.dragState.to, changed)\r\n\r\n          this.dataSource = [...cloneList]\r\n          this.clear()\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  clear() {\r\n    this.dragElement = null\r\n    this.rangeIsChanged = false\r\n    this.dragState = new DragState\r\n  }\r\n\r\n  destroy() {\r\n    this.drag && this.drag.destroy()\r\n    delete this.drag\r\n  }\r\n}\r\n\r\nexport default Sortable","import React, { useRef, useState, useEffect, useLayoutEffect } from 'react'\r\nimport { VirtualProps, DragState, Range } from './interface'\r\nimport type { GetKey } from './interface'\r\nimport { Item, Slot } from './children'\r\nimport { debounce } from './utils'\r\nimport Virtual from './virtual'\r\nimport Sortable from './sortable'\r\n\r\nconst CALLBACKS = { top: 'v-top', bottom: 'v-bottom', dragend: 'v-dragend' } // 组件传入的事件回调\r\n\r\nexport function VirtualDragList<T>(props: VirtualProps<T>, ref: React.ref) {\r\n  const {\r\n    header,\r\n    footer,\r\n    children,\r\n\r\n    dataSource = [],\r\n    dataKey,\r\n    direction = 'vertical',\r\n    keeps = 30,\r\n    size = 50,\r\n\r\n    height = '100%',\r\n    delay = 0,\r\n\r\n    wrapTag = 'div',\r\n    rootTag = 'div',\r\n    itemTag = 'div',\r\n    headerTag = 'div',\r\n    footerTag = 'div',\r\n\r\n    itemStyle = {},\r\n    itemClass = '',\r\n    rootStyle = {},\r\n    rootClass = '',\r\n    wrapStyle = {},\r\n    wrapClass = '',\r\n\r\n    disabled = false,\r\n    draggable = undefined,\r\n    dragging = undefined,\r\n    ghostClass = '',\r\n    ghostStyle = {},\r\n    chosenClass = '',\r\n    animation = 150\r\n  } = props\r\n\r\n  // =============================== State ===============================\r\n  const [list, setList] = useState([])\r\n  const cloneList = useRef([])\r\n  const uniqueKeys = useRef([])\r\n\r\n  const [range, setRange] = useState<Range>(new Range) // 当前可见范围\r\n\r\n  const root_ref = useRef<Element>(null) // 根元素\r\n  const wrap_ref = useRef<Element>(null) // 列表ref\r\n  const last_ref = useRef<Element>(null) // 列表末尾dom，总是存在于列表最后\r\n\r\n  const dragState = useRef<DragState>(new DragState)\r\n  const sortable = useRef<Sortable<T>>(null)\r\n  const virtual = useRef<Virtual<T>>(new Virtual(\r\n    {\r\n      size,\r\n      keeps,\r\n      uniqueKeys: uniqueKeys.current,\r\n      isHorizontal: direction === 'vertical'\r\n    },\r\n    (range) => {\r\n      setRange(() => range)\r\n      // check if drag element is in range\r\n      const { index } = dragState.current.from || {}\r\n      if (index > -1 && !(index >= range.start && index <= range.end)) {\r\n        if (sortable.current) sortable.current.set('rangeIsChanged', true)\r\n      }\r\n    }\r\n  ))\r\n\r\n  // =============================== ref methods ===============================\r\n  /**\r\n   * reset component\r\n   */\r\n  const reset = () => {\r\n    scrollToTop()\r\n    setList(() => [...dataSource])\r\n    cloneList.current = [...dataSource]\r\n  }\r\n  /**\r\n   * git item size by data-key\r\n   * @param {String | Number} key data-key \r\n   */\r\n  const getSize = (key) => {\r\n    return virtual.current.sizes.get(key)\r\n  }\r\n  /**\r\n   * Get the current scroll height\r\n   */\r\n  const getOffset = () => {\r\n    const root = root_ref.current\r\n    return root ? Math.ceil(root[scrollDirectionKey]) : 0\r\n  }\r\n  /**\r\n   * Scroll to the specified offset\r\n   * @param {Number} offset \r\n   */\r\n  const scrollToOffset = (offset) => {\r\n    root_ref.current[scrollDirectionKey] = offset\r\n  }\r\n  /**\r\n   * Scroll to the specified index position\r\n   * @param {Number} index \r\n   */\r\n  const scrollToIndex = (index) => {\r\n    if (index >= dataSource.length - 1) {\r\n      scrollToBottom()\r\n    } else {\r\n      const indexOffset = virtual.current.getOffsetByIndex(index)\r\n      scrollToOffset(indexOffset)\r\n\r\n      setTimeout(() => {\r\n        const offset = getOffset()\r\n        const indexOffset = virtual.current.getOffsetByIndex(index)\r\n        if (offset !== indexOffset) scrollToIndex(index)\r\n      }, 5)\r\n    }\r\n  }\r\n  /**\r\n   * Scroll to top of list\r\n   */\r\n  const scrollToTop = () => {\r\n    root_ref.current[scrollDirectionKey] = 0\r\n  }\r\n  /**\r\n   * Scroll to bottom of list\r\n   */\r\n  const scrollToBottom = () => {\r\n    if (last_ref.current) {\r\n      const offset = last_ref.current[offsetSizeKey]\r\n      root_ref.current[scrollDirectionKey] = offset\r\n\r\n      // 第一次滚动高度可能会发生改变，如果没到底部再执行一次滚动方法\r\n      setTimeout(() => {\r\n        const root = root_ref.current\r\n        const offset = getOffset()\r\n        const clientSize = Math.ceil(root[clientSizeKey])\r\n        const scrollSize = Math.ceil(root[scrollSizeKey])\r\n        if (offset + clientSize < scrollSize) scrollToBottom()\r\n      }, 5)\r\n    }\r\n  }\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    reset,\r\n    getSize,\r\n    getOffset,\r\n    scrollToTop,\r\n    scrollToIndex,\r\n    scrollToOffset,\r\n    scrollToBottom,\r\n  }))\r\n\r\n  // =============================== init ===============================\r\n  useEffect(() => {\r\n    setList(() => [...dataSource])\r\n    cloneList.current = [...dataSource]\r\n    setUniqueKeys()\r\n\r\n    virtual.current.updateUniqueKeys(uniqueKeys.current)\r\n    virtual.current.updateSizes(uniqueKeys.current)\r\n    virtual.current.updateRange()\r\n\r\n    if (sortable.current) sortable.current.set('dataSource', dataSource)\r\n  }, [dataSource])\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      destroyDraggable()\r\n    }\r\n  }, [])\r\n\r\n  useLayoutEffect(() => {\r\n    if (draggable) {\r\n      initDraggable()\r\n    } else {\r\n      destroyDraggable()\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [draggable])\r\n\r\n  // =============================== sortable ===============================\r\n  const initDraggable = () => {\r\n    destroyDraggable()\r\n    sortable.current = new Sortable(\r\n      {\r\n        getKey,\r\n        scrollEl: wrap_ref.current,\r\n        dataSource: cloneList.current,\r\n        disabled,\r\n        draggable,\r\n        dragging,\r\n        ghostStyle,\r\n        ghostClass,\r\n        chosenClass,\r\n        animation,\r\n      },\r\n      (state) => {\r\n        dragState.current.from = state\r\n      },\r\n      (list: T[], from: object, to: object, changed: boolean) => {\r\n        dragState.current.to = to\r\n\r\n        const callback = props[CALLBACKS.dragend]\r\n        callback && callback(list, from, to, changed)\r\n\r\n        cloneList.current = [...list]\r\n        setList(() => [...list])\r\n        setUniqueKeys()\r\n\r\n        setTimeout(() => dragState.current = new DragState, delay + 10)\r\n      }\r\n    )\r\n  }\r\n\r\n  const destroyDraggable = () => {\r\n    sortable.current && sortable.current.destroy()\r\n    sortable.current = null\r\n  }\r\n\r\n  // =============================== methods ===============================\r\n  const setUniqueKeys = () => {\r\n    uniqueKeys.current = cloneList.current.map(item => getKey(item))\r\n  }\r\n\r\n  const getItemIndex = (item) => {\r\n    return cloneList.current.findIndex(el => getKey(el) === getKey(item))\r\n  }\r\n\r\n  // 获取 item 中的 dateKey 值\r\n  const getKey = React.useCallback<GetKey<T>>(\r\n    (item: T) => {\r\n      return (\r\n        dataKey.replace(/\\[/g, '.').replace(/\\]/g, '').split('.').reduce((o, k) => (o || {})[k], item)\r\n      )\r\n    },\r\n    [dataKey]\r\n  )\r\n\r\n  const { scrollSizeKey, scrollDirectionKey, offsetSizeKey, clientSizeKey } = React.useMemo(() => {\r\n    const isHorizontal = direction !== 'vertical'\r\n    return {\r\n      offsetSizeKey: isHorizontal ? 'offsetLeft' : 'offsetTop',\r\n      scrollSizeKey: isHorizontal ? 'scrollWidth' : 'scrollHeight',\r\n      clientSizeKey: isHorizontal ? 'clientWidth' : 'clientHeight',\r\n      scrollDirectionKey: isHorizontal ? 'scrollLeft' : 'scrollTop',\r\n    }\r\n  }, [direction])\r\n\r\n  // =============================== Scroll ===============================\r\n  const handleScroll = (e: Event) => {\r\n    // mouseup 事件时会触发scroll事件，这里处理为了防止range改变导致页面滚动\r\n    if (dragState.current.to && dragState.current.to.key) return\r\n\r\n    const root = root_ref.current\r\n    const offset = getOffset()\r\n    const clientSize = Math.ceil(root[clientSizeKey])\r\n    const scrollSize = Math.ceil(root[scrollSizeKey])\r\n    // 如果不存在滚动元素 | 滚动高度小于0 | 超出最大滚动距离\r\n    if (offset < 0 || (offset + clientSize > scrollSize + 1) || !scrollSize) return\r\n\r\n    virtual.current.handleScroll(offset)\r\n    // 判断当前应该触发的回调函数，滚动到顶部时触发 `v-top`，滚动到底部时触发 `v-bottom`\r\n    if (virtual.current.isFront()) {\r\n      if (!!dataSource.length && offset <= 0) handleToTop(props)\r\n    } else if (virtual.current.isBehind()) {\r\n      if (clientSize + offset >= scrollSize) handleToBottom(props)\r\n    }\r\n  }\r\n\r\n  const handleToTop = debounce(function (props: VirtualProps<T>) {\r\n    const callback = props[CALLBACKS.top]\r\n    callback && callback()\r\n  })\r\n\r\n  const handleToBottom = debounce(function (props: VirtualProps<T>) {\r\n    const callback = props[CALLBACKS.bottom]\r\n    callback && callback()\r\n  })\r\n\r\n  // ======================= size observe =======================\r\n  const onItemSizeChange = (key: string | number, size: number) => {\r\n    virtual.current.handleItemSizeChange(key, size)\r\n  }\r\n\r\n  const onSlotSizeChange = (key: string | number, size: number) => {\r\n    if (key === 'header') virtual.current.handleHeaderSizeChange(size)\r\n    if (key === 'footer') virtual.current.handleFooterSizeChange(size)\r\n  }\r\n\r\n  // ================================ Render ================================\r\n  const { start, end, front, behind } = React.useMemo(() => {\r\n    return { ...range }\r\n  }, [range])\r\n\r\n  // check item show or not\r\n  const getItemStyle = React.useCallback((itemKey) => {\r\n    const change = sortable.current && sortable.current.rangeIsChanged\r\n    const { key } = dragState.current.from || {}\r\n    if (change && itemKey == key) return { display: 'none' }\r\n    return {}\r\n  }, [dragState.current])\r\n\r\n  const RootStyle = { ...rootStyle, height, overflow: direction !== 'vertical' ? 'auto hidden' : 'hidden auto' }\r\n  const WrapStyle = { ...wrapStyle, padding: direction !== 'vertical' ? `0px ${behind}px 0px ${front}px` : `${front}px 0px ${behind}px` }\r\n\r\n  const WrapTag = wrapTag\r\n  const RootTag = rootTag\r\n\r\n  return (\r\n    <RootTag ref={ root_ref } className={ rootClass } style={ RootStyle } onScroll={ debounce(handleScroll, delay) }>\r\n\r\n      <Slot children={ header } roleId=\"header\" Tag={ headerTag } onSizeChange={ onSlotSizeChange }></Slot>\r\n\r\n      <WrapTag ref={ wrap_ref } v-role=\"content\" className={ wrapClass } style={ WrapStyle }>\r\n        {\r\n          list.slice(start, end + 1).map(item => {\r\n            const key = getKey(item)\r\n            const index = getItemIndex(item)\r\n            return (\r\n              <Item\r\n                key={ key }\r\n                Tag={ itemTag }\r\n                record={ item }\r\n                index={ index }\r\n                dataKey={ key }\r\n                children={ children }\r\n                Class={ itemClass }\r\n                Style={{ ...itemStyle, ...getItemStyle(key) }}\r\n                onSizeChange={ onItemSizeChange }\r\n              />\r\n            )\r\n          })\r\n        }\r\n      </WrapTag>\r\n\r\n      <Slot children={ footer } roleId=\"footer\" Tag={ footerTag } onSizeChange={ onSlotSizeChange }></Slot>\r\n      <div ref={ last_ref }></div>\r\n    </RootTag>\r\n  )\r\n}\r\n\r\nexport default React.forwardRef(VirtualDragList)"],"names":["React","t","e","module","this","d","Symbol","iterator","constructor","prototype","o","TypeError","n","length","enumerable","configurable","writable","Object","defineProperty","key","i","r","Array","isArray","s","from","toString","call","slice","name","test","window","navigator","userAgent","match","a","l","f","h","c","capture","passive","u","p","v","m","forEach","D","concat","split","g","w","addEventListener","attachEvent","y","removeEventListener","detachEvent","b","top","left","height","width","offsetHeight","offsetWidth","offsetTop","offsetLeft","offsetParent","E","getBoundingClientRect","bottom","right","parentNode","document","scrollingElement","contains","body","innerHeight","innerWidth","S","children","indexOf","index","el","rect","offset","_","classList","className","replace","style","defaultView","getComputedStyle","currentStyle","x","node","to","value","$","options","diff","position","exist","$el","remove","ghostClass","ghostStyle","class","zIndex","opacity","pointerEvents","cursor","setStyle","ghostAnimation","appendChild","move","setTimeout","clear","P","captureAnimationState","dragEl","dropEl","start","end","push","target","animateRange","animate","animation","arguments","clearTimeout","animated","M","createElement","O","nodeType","assign","differ","ghost","delay","delayOnTouchOnly","disabled","chosenClass","draggable","dragging","onDrag","onMove","onDrop","onChange","forceFallback","stopPropagation","supportPassive","supportPointer","supportTouch","ownerDocument","nativeDraggable","_bindEventListener","_onStart","bind","_onMove","_onDrop","_unbindEventListener","_bindMoveEvents","_bindUpEvents","_unbindMoveEvents","_unbindUpEvents","_handleDestroy","destroy","_resetState","type","button","touches","pointerType","tagName","toUpperCase","_onDrag","dragStartTimer","substring","matches","msMatchesSelector","webkitMatchesSelector","Error","selection","empty","getSelection","removeAllRanges","sortableDndOnDownState","setPosition","clientX","clientY","preventDefault","elementFromPoint","init","cloneNode","sortableDndOnMoveState","insertBefore","nextElementSibling","_removeWindowState","sortableDndAnimationEnd","MutationObserver","WebKitMutationObserver","MozMutationObserver","disconnect","observe","childList","attributes","subtree","onbeforeunload","SortableDnd","useState","useRef","useEffect","useLayoutEffect"],"mappings":"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"}