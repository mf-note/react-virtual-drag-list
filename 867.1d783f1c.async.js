(self.webpackChunkreact_virtual_drag_list=self.webpackChunkreact_virtual_drag_list||[]).push([[867],{26867:function(xt){(function(tt,P){xt.exports=P()})(this,function(){"use strict";function tt(t){return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},tt(t)}function P(){return P=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},P.apply(this,arguments)}var dt={capture:!1,passive:!1},pt=/\s+/g;function Q(t){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(t)}var et=Q(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),mt=Q(/Edge/i),at=Q(/safari/i)&&!Q(/chrome/i)&&!Q(/android/i),ft=function(){var t=!1;return document.addEventListener("checkIfSupportPassive",null,{get passive(){return t=!0,!0}}),t}();function M(t,n,e){window.addEventListener?t.addEventListener(n,e,!(!ft&&et)&&dt):window.attachEvent?t.attachEvent("on"+n,e):t["on"+n]=e}function x(t,n,e){window.removeEventListener?t.removeEventListener(n,e,!(!ft&&et)&&dt):window.detachEvent?t.detachEvent("on"+n,e):t["on"+n]=null}function nt(){return document.scrollingElement||document.documentElement}function N(t,n,e){if(t.getBoundingClientRect||t===window){var o,i,r,s,a,d,_;if(t!==window&&t.parentNode&&t!==nt()?(i=(o=t.getBoundingClientRect()).top,r=o.left,s=o.bottom,a=o.right,d=o.height,_=o.width):(i=0,r=0,s=window.innerHeight,a=window.innerWidth,d=window.innerHeight,_=window.innerWidth),n&&t!==window){e=e||t.parentNode;do if(e&&e.getBoundingClientRect){var p=e.getBoundingClientRect();i-=p.top+parseInt(u(e,"border-top-width")),r-=p.left+parseInt(u(e,"border-left-width")),s=i+o.height,a=r+o.width;break}while(e=e.parentNode)}return{top:i,left:r,bottom:s,right:a,width:_,height:d}}}function ot(t,n,e,o){if(t){if(e&&!n){for(var i=Array.prototype.slice.call(e.children),r=0,s=i.length;r<s;r++)if(i[r]===t||it(t,i[r]))return i[r]}e=e||document;do{if(n!=null&&(n[0]===">"?t.parentNode===e&&G(t,n):G(t,n))||o&&t===e)return t;if(t===e)break}while(t=t.parentNode);return null}}function it(t,n){if(!t||!n)return!1;if(n.compareDocumentPosition)return!!(16&n.compareDocumentPosition(t));if(n.contains&&t.nodeType===1)return n.contains(t)&&n!==t;for(;t=t.parentNode;)if(t===n)return!0;return!1}function gt(t,n){for(var e=t.lastElementChild;e&&(e===m.ghost||u(e,"display")==="none"||n&&!G(e,n));)e=e.previousElementSibling;return e||null}function B(t,n){if(!t||!t.parentNode)return-1;for(var e=0;t=t.previousElementSibling;)t.nodeName.toUpperCase()==="TEMPLATE"||n&&!G(t,n)||u(t,"display")==="none"||e++;return e}function lt(t,n,e,o){for(var i=0,r=0,s=t.children;i<s.length;){if(s[i]!==m.ghost&&u(s[i],"display")!=="none"&&ot(s[i],e,t,!1)&&(o||s[i]!==m.dragged)){if(r===n)return s[i];r++}i++}return null}function vt(t,n){var e=u(t),o=parseInt(e.width)-parseInt(e.paddingLeft)-parseInt(e.paddingRight)-parseInt(e.borderLeftWidth)-parseInt(e.borderRightWidth),i=lt(t,0,n),r=lt(t,1,n),s=i&&u(i),a=r&&u(r),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+N(i).width,_=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+N(r).width,p=mt||et?"cssFloat":"float";if(e.display==="flex")return e.flexDirection==="column"||e.flexDirection==="column-reverse"?"vertical":"horizontal";if(e.display==="grid")return e.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var g=s.float==="left"?"left":"right";return!r||a.clear!=="both"&&a.clear!==g?"horizontal":"vertical"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=o&&e[p]==="none"||r&&e[p]==="none"&&d+_>o)?"vertical":"horizontal"}function D(t,n,e){if(t&&n)if(t.classList)t.classList[e?"add":"remove"](n);else{var o=(" "+t.className+" ").replace(pt," ").replace(" "+n+" "," ");t.className=(o+(e?" "+n:"")).replace(pt," ")}}function G(t,n){if(n){if(n[0]===">"&&(n=n.substring(1)),t)try{if(t.matches)return t.matches(n);if(t.msMatchesSelector)return t.msMatchesSelector(n);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(n)}catch(e){return!1}return!1}}function u(t,n,e){var o=t&&t.style;if(o){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(e=t.currentStyle),n===void 0?e:e[n];n in o||n.indexOf("webkit")!==-1||(n="-webkit-"+n),o[n]=e+(typeof e=="string"?"":"px")}}function V(t,n){var e,o,i=(o=n,(e=t).compareDocumentPosition?e.compareDocumentPosition(o):e.contains?(e!=o&&e.contains(o)&&16)+(e!=o&&o.contains(e)&&8)+(e.sourceIndex>=0&&o.sourceIndex>=0?(e.sourceIndex<o.sourceIndex&&4)+(e.sourceIndex>o.sourceIndex&&2):1):0);return i===2?1:i===4?-1:0}function rt(t){t.preventDefault!==void 0&&t.cancelable&&t.preventDefault()}function I(t){var n=t.sortable,e=t.name,o=t.params,i=n.options[e];typeof i=="function"&&i(P({},o))}(function(){if(typeof window=="undefined"||typeof document=="undefined")return"";var t=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],n=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||t.OLink===""&&["","o"])[1];n&&"-".concat(n,"-")})();var v,Z,ct,E="Sortable"+Date.now();function yt(t){this.options=t,this.autoScrollAnimationFrame=null}function wt(t){this.options=t,this.stack=[]}function bt(t){this.options=t||{},this.selects=[]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,17)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),yt.prototype={stop:function(){this.autoScrollAnimationFrame&&(cancelAnimationFrame(this.autoScrollAnimationFrame),this.autoScrollAnimationFrame=null)},start:function(t,n,e){var o=this;cancelAnimationFrame(this.autoScrollAnimationFrame),this.autoScrollAnimationFrame=requestAnimationFrame(function(){n&&e&&o.autoScroll(t,e),o.start(t,n,e)})},autoScroll:function(t,n){if(t&&n.clientX!==void 0&&n.clientY!==void 0){var e=N(t);if(e){var o=n.clientX,i=n.clientY,r=e.top,s=e.right,a=e.bottom,d=e.left,_=e.height,p=e.width;if(!(i<r||o>s||i>a||o<d)){var g=this.options,L=g.scrollThreshold,O=g.scrollSpeed,R=t.scrollTop,f=t.scrollLeft,C=t.scrollHeight,W=R>0&&i>=r&&i<=r+L,ut=f+p<t.scrollWidth&&o<=s&&o>=s-L,Ct=R+_<C&&i<=a&&i>=a-L;f>0&&o>=d&&o<=d+L&&(t.scrollLeft+=Math.floor(Math.max(-1,(o-d)/L-1)*O.x)),ut&&(t.scrollLeft+=Math.ceil(Math.min(1,(o-s)/L+1)*O.x)),W&&(t.scrollTop+=Math.floor(Math.max(-1,(i-r)/L-1)*O.y)),Ct&&(t.scrollTop+=Math.ceil(Math.min(1,(i-a)/L+1)*O.y))}}}}},wt.prototype={collect:function(t){if(t){for(var n=N(t),e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=Math.min(n.right,e),r=Math.min(n.bottom,o),s=Array.prototype.slice.call(t.children),a=[],d=0,_=s.length;d<=_;d++){var p=s[d];if(p&&p!==m.ghost&&u(p,"display")!=="none"){var g=N(p);if(!(g.bottom<0||g.right<0)){if(g.top-g.height>r||g.left-g.width>i)break;a.push({el:p,rect:g})}}}this.stack.push(a)}},animate:function(){var t=this.stack.pop();if(t&&this.options.animation)for(var n=0,e=t.length;n<e;n++){var o=t[n],i=o.el,r=o.rect;this._excute(i,r)}},_excute:function(t,n){var e=N(t);if(e.top!==n.top||e.left!==n.left){var o=n.left-e.left,i=n.top-e.top;u(t,"transition",""),u(t,"transform","translate3d(".concat(o,"px, ").concat(i,"px, 0)")),t.offsetWidth;var r=this.options,s=r.animation,a=r.easing;u(t,"transition","transform ".concat(s,"ms ").concat(a?" "+a:"")),u(t,"transform","translate3d(0px, 0px, 0px)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){u(t,"transition",""),u(t,"transform",""),t.animated=null},s)}}},bt.prototype={active:function(){return!!v},nulling:function(){v=Z=ct=null},params:function(){return{nodes:v||[],clones:Z||[]}},select:function(t){D(t,this.options.selectedClass,!0),this.selects.push(t),this.selects.sort(function(n,e){return V(n,e)})},deselect:function(t){var n=this.selects.indexOf(t);n>-1&&(D(t,this.options.selectedClass,!1),this.selects.splice(n,1))},useSelectHandle:function(t,n){var e=this.options.selectHandle;return!!(ct=typeof e=="function"&&e(t)||typeof e=="string"&&G(n,e))},getGhostElement:function(){if(!v)return null;var t=document.createElement("div");return D(t,this.options.chosenClass,!0),this.selects.forEach(function(n,e){var o=n.cloneNode(!0),i=e===0?1:.5;o.style="position: absolute;left: 0;top: 0;bottom: 0;right: 0;opacity: ".concat(i,";z-index: ").concat(e,";"),t.appendChild(o)}),t},onChoose:function(){!this.options.multiple||this.selects.length===0||this.selects.indexOf(m.dragged)<0||(this.selects.sort(function(t,n){return V(t,n)}),v=this.selects,this.toggleChosenClass(!0))},onDrop:function(t,n,e){if(v){var o=m.dragged,i=m.clone,r=v.indexOf(o);t!==n&&e?(u(i,"display","none"),this.toggleVisible(!0),Z=v.map(function(s){return s.cloneNode(!0)}),this._sortElements(Z,r,i)):this._sortElements(v,r,i),t!==n&&(n[E].multiplayer.toggleSelected(Z||v,!0),!e&&t[E].multiplayer.toggleSelected(v,!1))}},onSelect:function(t,n,e,o){var i=this.options,r=i.multiple,s=i.selectHandle;if(r&&(s&&ct||!s&&!e)){var a=this.selects.indexOf(n);D(n,this.options.selectedClass,a<0);var d={from:o.el,event:t,node:n,index:B(n)};a<0?(this.selects.push(n),I({sortable:o,name:"onSelect",params:d})):(this.selects.splice(a,1),I({sortable:o,name:"onDeselect",params:d})),this.selects.sort(function(_,p){return V(_,p)})}},toggleChosenClass:function(t){if(v)for(var n=0,e=v.length;n<e;n++)D(v[n],this.options.chosenClass,t)},toggleVisible:function(t){if(v)for(var n=0,e=v.length;n<e;n++)v[n]!=m.dragged&&u(v[n],"display",t?"":"none")},toggleSelected:function(t,n){var e=this;n?t.forEach(function(o){return e.selects.push(o)}):this.selects=this.selects.filter(function(o){return t.indexOf(o)<0})},_sortElements:function(t,n,e){for(var o=0,i=t.length;o<i;o++)if(u(t[o],"display",""),o<n)e.parentNode.insertBefore(t[o],e);else{var r=o>0?t[o-1]:e;e.parentNode.insertBefore(t[o],r.nextSibling)}}};var k,y,w,l,h,j,c,S,X,b,q,F,$,U,T,A,J,Y,z,H,K,ht,st=[];function _t(t){var n={},e=t.group;e&&tt(e)=="object"||(e={name:e,pull:!0,put:!0,revertDrag:!0}),n.name=e.name,n.pull=e.pull,n.put=e.put,n.revertDrag=e.revertDrag,t.group=n}function St(t){var n=A||T;return!(t.clientX!==void 0&&t.clientY!==void 0&&Math.abs(t.clientX-n.clientX)<=0&&Math.abs(t.clientY-n.clientY)<=0)}function m(t,n){if(!t||!t.nodeType||t.nodeType!==1)throw"Sortable-dnd: `el` must be an HTMLElement, not ".concat({}.toString.call(t));t[E]=this,this.el=t,this.options=n=P({},n);var e={store:null,group:"",handle:null,sortable:!0,disabled:!1,multiple:!1,lockAxis:"",direction:"",animation:150,easing:"",draggable:null,selectHandle:null,customGhost:null,autoScroll:!0,scrollThreshold:55,scrollSpeed:{x:10,y:10},delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,ghostClass:"",ghostStyle:{},chosenClass:"",selectedClass:"",placeholderClass:"",swapOnDrop:!0,removeCloneOnDrop:!0,fallbackOnBody:!1,supportTouch:"ontouchstart"in window,emptyInsertThreshold:-1};for(var o in e)!(o in this.options)&&(this.options[o]=e[o]);for(var i in _t(n),this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));M(t,this.options.supportTouch?"touchstart":"mousedown",this._onDrag),this.autoScroller=new yt(this.options),this.multiplayer=new bt(this.options),this.animator=new wt(this.options),st.push(t)}return m.prototype={constructor:m,_onDrag:function(t){var n=this;if(!l&&!this.options.disabled&&this.options.group.pull&&(!/mousedown|pointerdown/.test(t.type)||t.button===0)){var e=t.touches&&t.touches[0],o=(e||t).target;if(!at||!o||o.tagName.toUpperCase()!=="SELECT"){var i=ot(o,this.options.draggable,this.el);if(i&&!i.animated&&(T={event:t,clientX:(e||t).clientX,clientY:(e||t).clientY},l=i,M(H=e?l:document,"mouseup",this._onDrop),M(H,"touchend",this._onDrop),M(H,"touchcancel",this._onDrop),!this.multiplayer.useSelectHandle(t,o))){var r=this.options.handle;if((typeof r!="function"||r(t))&&(typeof r!="string"||G(o,r))){var s=this.options,a=s.delay,d=s.delayOnTouchOnly;!a||d&&!e||mt||et?this._onStart(e,t):(M(this.el.ownerDocument,"touchmove",this._delayMoveHandler),M(this.el.ownerDocument,"mousemove",this._delayMoveHandler),M(this.el.ownerDocument,"mouseup",this._cancelStart),M(this.el.ownerDocument,"touchend",this._cancelStart),M(this.el.ownerDocument,"touchcancel",this._cancelStart),ht=setTimeout(function(){return n._onStart(e,t)},a)),M(document,"selectstart",rt),at&&u(document.body,"user-select","none")}}}}},_delayMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-T.clientX),Math.abs(n.clientY-T.clientY))>=Math.floor(this.options.touchStartThreshold/(window.devicePixelRatio||1))&&this._cancelStart()},_cancelStart:function(){clearTimeout(ht),x(this.el.ownerDocument,"touchmove",this._delayMoveHandler),x(this.el.ownerDocument,"mousemove",this._delayMoveHandler),x(this.el.ownerDocument,"mouseup",this._cancelStart),x(this.el.ownerDocument,"touchend",this._cancelStart),x(this.el.ownerDocument,"touchcancel",this._cancelStart),x(document,"selectstart",rt),at&&u(document.body,"user-select","")},_onStart:function(t,n){rt(n);var e=B(l);k=this.el,y=this.el,X=l,F=e,$=e,U=e,Y={to:this.el,target:l,newIndex:e,relative:0},z=l,w=this.el,c=l.cloneNode(!0),b=l.parentNode,q=this.options.group.pull,m.clone=c,m.active=this,m.dragged=l,this.multiplayer.onChoose(),D(l,this.options.chosenClass,!0),I({sortable:this,name:"onChoose",params:this._getParams(n)}),M(H,t?"touchmove":"mousemove",this._nearestSortable);try{document.selection?setTimeout(function(){return document.selection.empty()},0):window.getSelection().removeAllRanges()}catch(o){}},_onStarted:function(){this.animator.collect(b),D(c,this.options.chosenClass,!0),D(c,this.options.placeholderClass,!0),this._appendGhost(),this.multiplayer.toggleVisible(!1),u(l,"display","none"),l.parentNode.insertBefore(c,l),I({sortable:this,name:"onDrag",params:this._getParams(T.event)}),this.animator.animate()},_getGhostElement:function(){var t=this.options.customGhost;if(typeof t=="function"){var n=this.multiplayer.selects;return t(n.length?n:[l])}return this.multiplayer.getGhostElement()||l},_appendGhost:function(){if(!S){var t=this.options.fallbackOnBody?document.body:this.el,n=this._getGhostElement();D(S=n.cloneNode(!0),this.options.ghostClass,!0);var e=N(l),o=P({position:"fixed",top:e.top,left:e.left,width:e.width,height:e.height,zIndex:"100000",opacity:"0.8",overflow:"hidden",boxSizing:"border-box",transform:"",transition:"",pointerEvents:"none"},this.options.ghostStyle);for(var i in o)u(S,i,o[i]);m.ghost=S,t.appendChild(S);var r=(T.clientX-e.left)/parseInt(S.style.width)*100,s=(T.clientY-e.top)/parseInt(S.style.height)*100;u(S,"transform-origin","".concat(r,"% ").concat(s,"%")),u(S,"will-change","transform")}},_nearestSortable:function(t){rt(t);var n=t.touches&&t.touches[0]||t;if(l&&St(n)){!A&&this._onStarted();var e=this.options.lockAxis,o=e==="x"?T.clientX:n.clientX,i=e==="y"?T.clientY:n.clientY,r=document.elementFromPoint(o,i),s=o-T.clientX,a=i-T.clientY;A={event:t,clientX:o,clientY:i},u(S,"transform","translate3d(".concat(s,"px, ").concat(a,"px, 0)"));var d,_,p,g=(d=o,_=i,st.reduce(function(O,R){var f=R[E].options.emptyInsertThreshold;if(f!=null){var C=N(R),W=d>=C.left-f&&d<=C.right+f,ut=_>=C.top-f&&_<=C.bottom+f;return W&&ut&&(!p||p&&C.left>=p.left&&C.right<=p.right&&C.top>=p.top&&C.bottom<=p.bottom)&&(O=R,p=C),O}},null));if(g&&g[E]._onMove(t,r),!g||g[E].options.autoScroll){var L=function(O,R){if(!O||!O.getBoundingClientRect)return nt();var f=O,C=!1;do if(f.clientWidth<f.scrollWidth||f.clientHeight<f.scrollHeight){var W=u(f);if(f.clientWidth<f.scrollWidth&&(W.overflowX=="auto"||W.overflowX=="scroll")||f.clientHeight<f.scrollHeight&&(W.overflowY=="auto"||W.overflowY=="scroll")){if(!f.getBoundingClientRect||f===document.body)return nt();if(C||R)return f;C=!0}}while(f=f.parentNode);return nt()}(r,!0);this.autoScroller.start(L,T,A)}else this.autoScroller.stop()}},_allowPut:function(){if(w===this.el)return!0;if(!this.options.group.put)return!1;var t=this.options.group,n=t.name,e=t.put,o=w[E].options.group;return e.join&&e.indexOf(o.name)>-1||o.name&&n&&o.name===n},_getDirection:function(){var t=this.options,n=t.draggable,e=t.direction;return e?typeof e=="function"?e.call(A.event,c,this):e:vt(b,n)},_allowSwap:function(){var t=N(h),n=this._getDirection()==="vertical",e=n?"top":"left",o=n?"bottom":"right",i=h[n?"offsetHeight":"offsetWidth"],r=n?A.clientY:A.clientX,s=r>=t[e]&&r<t[o]-i/2?-1:1,a=lt(b,0,this.options.draggable),d=gt(b),_=N(a),p=N(d);if(h===b||it(b,h))return c===a&&r<_[e]?(j=h,!0):c===d&&r>p[o]&&(j=h.nextSibling,!0);var g=V(c,h);return j=g<0?h.nextSibling:h,J!==h?(K=s,!0):K!==s&&(K=s,s<0?g>0:g<0)},_onMove:function(t,n){if(!this.options.disabled&&this._allowPut()){if(h=ot(n,this.options.draggable,this.el),I({sortable:this,name:"onMove",params:this._getParams(t,{target:h})}),this.options.sortable||this.el!==w)return this.el===y||n!==this.el&&gt(this.el)?void(h&&!h.animated&&!it(h,c)&&this._allowSwap()&&(h!==c&&j!==c&&(this.el!==y?this._onInsert(t):h!==l&&this._onChange(t)),J=h)):(h=J=null,void this._onInsert(t));y!==w&&(h=J=l,K=0,this._onInsert(t))}},_onInsert:function(t){var n=h||c,e=q==="clone"&&this.el!==w&&y===w,o=q==="clone"&&this.el===w&&y!==w,i=it(h,document),r=h===l&&!i,s=y[E],a=w[E];k=this.el,F=B(c),X=n,b=i?h.parentNode:this.el,s.animator.collect(c.parentNode),this.animator.collect(b),e&&(Y.target=z,Y.newIndex=F,Y.relative=z===l?0:V(c,z),u(l,"display",""),a.multiplayer.toggleVisible(!0),a.options.group.revertDrag||c.parentNode.insertBefore(l,c)),o&&(F=B(l),u(l,"display","none"),this.multiplayer.toggleVisible(!1)),u(c,"display",r?"none":""),h&&i?b.insertBefore(c,K<0?h:h.nextSibling):b.appendChild(c),$=r?U:B(c),e&&a.options.group.revertDrag&&(Y.target=l,Y.newIndex=U,Y.relative=0,I({sortable:a,name:"onChange",params:this._getParams(t,{to:w,target:l,newIndex:U,revertDrag:!0})})),e||I({sortable:s,name:"onRemove",params:this._getParams(t,{newIndex:-1})}),o&&n!==l&&(z=n,I({sortable:this,name:"onChange",params:this._getParams(t,{from:w,backToOrigin:!0})})),o||I({sortable:this,name:"onAdd",params:this._getParams(t,{oldIndex:-1})}),s.animator.animate(),this.animator.animate(),y=this.el},_onChange:function(t){this.animator.collect(b),F=B(c),b=h.parentNode,X=h,this.el===w&&(z=h),b.insertBefore(c,j),$=B(c),I({sortable:this,name:"onChange",params:this._getParams(t)}),this.animator.animate(),y=this.el},_onDrop:function(t){this._cancelStart(),x(H,"touchmove",this._nearestSortable),x(H,"mousemove",this._nearestSortable),x(H,"mouseup",this._onDrop),x(H,"touchend",this._onDrop),x(H,"touchcancel",this._onDrop),w&&(y=w,F=U,X===c&&(X=l),this.animator.collect(b),this.multiplayer.toggleChosenClass(!1),D(l,this.options.chosenClass,!1),I({sortable:this,name:"onUnchoose",params:this._getParams(t)}),A&&this._onEnd(t),!A&&this.animator.animate()),!St(t.changedTouches?t.changedTouches[0]:t)&&this.multiplayer.onSelect(t,l,w,this),S&&S.parentNode&&S.parentNode.removeChild(S),this.autoScroller.stop(),this.multiplayer.nulling(),this._nulling()},_onEnd:function(t){D(c,this.options.chosenClass,!1),D(c,this.options.placeholderClass,!1);var n=q==="clone";this.multiplayer.onDrop(y,k,n);var e=this._getParams(t),o=this.options,i=o.swapOnDrop,r=o.removeCloneOnDrop;n&&y!==k||!(typeof i=="function"?i(e):i)||b.insertBefore(l,c),n&&y!==k&&!this.multiplayer.active()||!(typeof r=="function"?r(e):r)||c&&c.parentNode&&c.parentNode.removeChild(c),u(l,"display",""),this.animator.animate(),y!==k&&I({sortable:y[E],name:"onDrop",params:P({},e,n?Y:{newIndex:-1})}),I({sortable:k[E],name:"onDrop",params:P({},e,y===k?{}:{oldIndex:-1})})},_getParams:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={};return e.event=t,e.to=k,e.from=y,e.node=l,e.clone=c,e.target=X,e.oldIndex=F,e.newIndex=$,e.pullMode=q,P(e,this.multiplayer.params(),n),e.relative=X===l?0:V(c,X),e},_nulling:function(){k=y=w=l=h=j=c=S=X=b=q=F=$=U=T=A=J=Y=z=H=K=ht=m.clone=m.ghost=m.active=m.dragged=null},destroy:function(){this._cancelStart(),this._nulling(),this.multiplayer.nulling(),this.autoScroller.stop(),x(this.el,"touchstart",this._onDrag),x(this.el,"mousedown",this._onDrag);var t=st.indexOf(this.el);t>-1&&st.splice(t,1),this.el[E]=this.animator=this.multiplayer=this.autoScroller=null},option:function(t,n){if(n===void 0)return this.options[t];this.options[t]=n,this.animator.options[t]=n,this.multiplayer.options[t]=n,this.autoScroller.options[t]=n,t==="group"&&_t(this.options)},select:function(t){this.multiplayer.select(t)},deselect:function(t){this.multiplayer.deselect(t)},getSelectedElements:function(){return this.multiplayer.selects}},m.utils={on:M,off:x,css:u,index:B,closest:ot,getRect:N,toggleClass:D,detectDirection:vt},m.get=function(t){return t[E]},m.create=function(t,n){return new m(t,n)},m})}}]);
